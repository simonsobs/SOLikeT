==========================
Information for Developers
==========================

Adding your own likelihood or theory code
-----------------------------------------


Creating tests
--------------


Documenting your code
---------------------

After you have written your code, created tests and ensured that your code works
and is ready to be included, it might be a good idea to have a look at
**documenting** your code. As you are seeing right now, *SOLikeT* uses
readthedocs for hosting its documentation, and a lot of it is automatically
generated by *sphinx* with the *autodoc* extension.

For you as a developer, this might not mean a lot, so let's focus on the (few)
steps you need to take to get your documentation added here. This is done in
only three simple steps:

1. Annotate your code with **docstrings**, optionally including some nice
formatting that sphinx can parse.
2. Creating a page where your documentation gets listed, or adding your docs
to an existing page.
3. Ensuring your page gets added to the index on the left.


Creating Docstrings
^^^^^^^^^^^^^^^^^^^


Creating a doc page
^^^^^^^^^^^^^^^^^^^


Adding your documentation to the index
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

This step is probably the easiers to do. All you need to do is open the file
``SOLikeT/docs/index.rst``, where you will see a list of ``toctree`` entries,
something like this:

.. code::

   .. toctree::
      :caption: Getting Started
      :maxdepth: 1
      
      index
   
   .. toctree::
      :caption: Theory codes
      :maxdepth: 2
      
      ccl
      cosmopower

Simply take the name of the file you created in the `Creating a doc page`_
section and add it to the list of sections in the correct category. For example,
if I just created my own ``cmb`` code and wanted to add a page with that name to
the index, I would simply add a line ``cmb`` between ``ccl`` and ``cosmopower``.


Reviewing your documentation
^^^^^^^^^^^^^^^^^^^^^^^^^^^^

After you have made all your commits and pushed to your pull request, you have
the opportunity to have a look at your own documentation. The workflows for
*SOLikeT* are setup such that readthedocs builds an instanced version of the
documentation generated by your branch, and you can review it by following
the link under the **docs/readthedocs.org:soliket** check that will
automatically generated on your PR.

.. image:: image/pr_docs_build.png
   :alt: Click the "details" button on the right of the "docs" check to go to your documentation build.

This link will bring you to a readthedocs page that shows the output of the
build of your documentation. Building the documentation takes about 10 minutes,
so make yourself a cup of tea while you wait. After this time has passed, you
should see a bright green **Build completed** button at the top. If all has
gone well, you can click the **View docs** button on the right to have a look
at your documentation and see if all appears as intended or if you want to make
more edits.

Congratulations! You have now created some very fancy documentation for your
own SOLikeT code!

